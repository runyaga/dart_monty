[
  {
    "id": 23,
    "tier": 4,
    "name": "simple function",
    "code": "def add(a, b): return a + b\nadd(3, 4)",
    "expected": 7,
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": null,
    "resumeValues": null,
    "resumeErrors": null,
    "nativeOnly": false
  },
  {
    "id": 24,
    "tier": 4,
    "name": "recursive fibonacci",
    "code": "def fib(n):\n  if n <= 1: return n\n  return fib(n-1) + fib(n-2)\nfib(10)",
    "expected": 55,
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": null,
    "resumeValues": null,
    "resumeErrors": null,
    "nativeOnly": false
  },
  {
    "id": 25,
    "tier": 4,
    "name": "default argument",
    "code": "def greet(name=\"world\"): return f\"hello {name}\"\ngreet()",
    "expected": "hello world",
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": null,
    "resumeValues": null,
    "resumeErrors": null,
    "nativeOnly": false
  },
  {
    "id": 26,
    "tier": 4,
    "name": "variadic args",
    "code": "def mul(*args):\n  r = 1\n  for a in args: r *= a\n  return r\nmul(2,3,4)",
    "expected": 24,
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": null,
    "resumeValues": null,
    "resumeErrors": null,
    "nativeOnly": false
  },
  {
    "id": 27,
    "tier": 4,
    "name": "map with lambda",
    "code": "nums = [1,2,3]\nlist(map(lambda x: x*2, nums))",
    "expected": [2, 4, 6],
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": null,
    "resumeValues": null,
    "resumeErrors": null,
    "nativeOnly": false
  },
  {
    "id": 28,
    "tier": 4,
    "name": "closure",
    "code": "def make_adder(n):\n  def adder(x): return x + n\n  return adder\nmake_adder(5)(3)",
    "expected": 8,
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": null,
    "resumeValues": null,
    "resumeErrors": null,
    "nativeOnly": false
  },
  {
    "id": 50,
    "tier": 4,
    "name": "nonlocal counter closure",
    "code": "def counter():\n    n = 0\n    def inc():\n        nonlocal n\n        n += 1\n        return n\n    return inc\nc = counter()\n[c(), c(), c()]",
    "expected": [1, 2, 3],
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": null,
    "resumeValues": null,
    "resumeErrors": null,
    "nativeOnly": false
  },
  {
    "id": 51,
    "tier": 4,
    "name": "keyword arguments",
    "code": "def f(**kwargs):\n    return kwargs\nf(a=1, b=2)",
    "expected": {"a": 1, "b": 2},
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": null,
    "resumeValues": null,
    "resumeErrors": null,
    "nativeOnly": false
  },
  {
    "id": 52,
    "tier": 4,
    "name": "decorator pattern",
    "code": "def deco(fn):\n    def wrapper(*args):\n        return fn(*args) + 1\n    return wrapper\n\n@deco\ndef add(a, b):\n    return a + b\n\nadd(2, 3)",
    "expected": 6,
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": null,
    "resumeValues": null,
    "resumeErrors": null,
    "nativeOnly": false,
    "xfail": "decorator @ syntax not fully supported"
  },
  {
    "id": 53,
    "tier": 4,
    "name": "function composition",
    "code": "def compose(f, g):\n    def h(x): return f(g(x))\n    return h\ndouble = lambda x: x * 2\ninc = lambda x: x + 1\ncompose(double, inc)(5)",
    "expected": 12,
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": null,
    "resumeValues": null,
    "resumeErrors": null,
    "nativeOnly": false
  },
  {
    "id": 54,
    "tier": 4,
    "name": "star unpacking",
    "code": "a, *rest, last = [1, 2, 3, 4, 5]\n[a, rest, last]",
    "expected": [1, [2, 3, 4], 5],
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": null,
    "resumeValues": null,
    "resumeErrors": null,
    "nativeOnly": false
  },
  {
    "id": 70,
    "tier": 4,
    "name": "keyword-only arguments",
    "code": "def f(*, name, greeting=\"hi\"):\n  return f\"{greeting} {name}\"\nf(name=\"world\")",
    "expected": "hi world",
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": null,
    "resumeValues": null,
    "resumeErrors": null,
    "nativeOnly": false,
    "xfail": null
  },
  {
    "id": 71,
    "tier": 4,
    "name": "mixed positional, default, *args, **kwargs",
    "code": "def f(a, b=10, *args, **kwargs):\n  return [a, b, list(args), kwargs]\nf(1, 2, 3, 4, x=5)",
    "expected": [1, 2, [3, 4], {"x": 5}],
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": null,
    "resumeValues": null,
    "resumeErrors": null,
    "nativeOnly": false,
    "xfail": null
  },
  {
    "id": 72,
    "tier": 4,
    "name": "calling with keyword arguments out of order",
    "code": "def sub(a, b):\n  return a - b\nsub(b=1, a=10)",
    "expected": 9,
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": null,
    "resumeValues": null,
    "resumeErrors": null,
    "nativeOnly": false,
    "xfail": null
  },
  {
    "id": 73,
    "tier": 4,
    "name": "multiple default arguments",
    "code": "def rect(w=1, h=1):\n  return w * h\n[rect(), rect(3), rect(3, 4), rect(h=5)]",
    "expected": [1, 3, 12, 5],
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": null,
    "resumeValues": null,
    "resumeErrors": null,
    "nativeOnly": false,
    "xfail": null
  },
  {
    "id": 74,
    "tier": 4,
    "name": "args and kwargs forwarding",
    "code": "def inner(a, b, c=0):\n  return a + b + c\ndef outer(*args, **kwargs):\n  return inner(*args, **kwargs)\nouter(1, 2, c=10)",
    "expected": 13,
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": null,
    "resumeValues": null,
    "resumeErrors": null,
    "nativeOnly": false,
    "xfail": null
  },
  {
    "id": 75,
    "tier": 4,
    "name": "keyword-only with *args before",
    "code": "def f(*args, sep=\"-\"):\n  return sep.join(str(a) for a in args)\nf(1, 2, 3, sep=\"/\")",
    "expected": "1/2/3",
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": null,
    "resumeValues": null,
    "resumeErrors": null,
    "nativeOnly": false,
    "xfail": null
  },
  {
    "id": 76,
    "tier": 4,
    "name": "positional-only arguments",
    "code": "def f(a, b, /, c=0):\n  return a + b + c\nf(1, 2, c=3)",
    "expected": 6,
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": null,
    "resumeValues": null,
    "resumeErrors": null,
    "nativeOnly": false,
    "xfail": null
  }
]
