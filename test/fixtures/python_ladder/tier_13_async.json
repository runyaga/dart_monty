[
  {
    "id": 170,
    "tier": 13,
    "name": "single async await",
    "code": "async def main():\n  result = await fetch('x')\n  return result\n\nawait main()",
    "expected": "response_x",
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": ["fetch"],
    "resumeValues": null,
    "resumeErrors": null,
    "asyncResumeMap": {"0": "response_x"},
    "nativeOnly": true,
    "xfail": "M13: async/futures not yet implemented"
  },
  {
    "id": 171,
    "tier": 13,
    "name": "asyncio.gather two functions",
    "code": "import asyncio\n\nasync def main():\n  a, b = await asyncio.gather(foo(), bar())\n  return a + b\n\nawait main()",
    "expected": 42,
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": ["foo", "bar"],
    "resumeValues": null,
    "resumeErrors": null,
    "asyncResumeMap": {"0": 10, "1": 32},
    "nativeOnly": true,
    "xfail": "M13: async/futures not yet implemented"
  },
  {
    "id": 172,
    "tier": 13,
    "name": "async error propagation",
    "code": "async def main():\n  result = await fetch('x')\n  return result\n\nawait main()",
    "expected": null,
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": true,
    "errorContains": "network timeout",
    "externalFunctions": ["fetch"],
    "resumeValues": null,
    "resumeErrors": null,
    "asyncResumeMap": {},
    "asyncErrorMap": {"0": "network timeout"},
    "nativeOnly": true,
    "xfail": "M13: async/futures not yet implemented"
  },
  {
    "id": 173,
    "tier": 13,
    "name": "async sequential awaits",
    "code": "async def main():\n  a = await foo()\n  b = await bar()\n  return a + b\n\nawait main()",
    "expected": 42,
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": ["foo", "bar"],
    "resumeValues": null,
    "resumeErrors": null,
    "asyncResumeMap": {"0": 10, "1": 32},
    "nativeOnly": true,
    "xfail": "M13: async/futures not yet implemented"
  },
  {
    "id": 174,
    "tier": 13,
    "name": "asyncio.gather with mixed results and error",
    "code": "import asyncio\n\nasync def main():\n  a, b = await asyncio.gather(foo(), bar())\n  return a + b\n\nawait main()",
    "expected": null,
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": true,
    "errorContains": "bar failed",
    "externalFunctions": ["foo", "bar"],
    "resumeValues": null,
    "resumeErrors": null,
    "asyncResumeMap": {"0": 10},
    "asyncErrorMap": {"1": "bar failed"},
    "nativeOnly": true,
    "xfail": "M13: async/futures not yet implemented"
  },
  {
    "id": 175,
    "tier": 13,
    "name": "async gather three with string results",
    "code": "import asyncio\n\nasync def main():\n  results = await asyncio.gather(a(), b(), c())\n  return '-'.join(results)\n\nawait main()",
    "expected": "x-y-z",
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": ["a", "b", "c"],
    "resumeValues": null,
    "resumeErrors": null,
    "asyncResumeMap": {"0": "x", "1": "y", "2": "z"},
    "nativeOnly": true,
    "xfail": "M13: async/futures not yet implemented"
  }
]
