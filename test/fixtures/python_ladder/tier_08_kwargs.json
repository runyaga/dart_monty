[
  {
    "id": 100,
    "tier": 8,
    "name": "ext fn with keyword argument",
    "code": "result = fetch(url=\"https://example.com\")\nresult",
    "expected": "response",
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": ["fetch"],
    "resumeValues": ["response"],
    "resumeErrors": null,
    "nativeOnly": false,
    "expectedFnName": "fetch",
    "expectedKwargs": {"url": "https://example.com"},
    "expectedArgs": []
  },
  {
    "id": 101,
    "tier": 8,
    "name": "ext fn with positional and keyword args",
    "code": "result = send(\"hello\", timeout=30)\nresult",
    "expected": "ok",
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": ["send"],
    "resumeValues": ["ok"],
    "resumeErrors": null,
    "nativeOnly": false,
    "expectedFnName": "send",
    "expectedKwargs": {"timeout": 30},
    "expectedArgs": ["hello"]
  },
  {
    "id": 102,
    "tier": 8,
    "name": "ext fn with multiple keyword args",
    "code": "result = query(table=\"users\", limit=10, offset=0)\nresult",
    "expected": "rows",
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": ["query"],
    "resumeValues": ["rows"],
    "resumeErrors": null,
    "nativeOnly": false,
    "expectedFnName": "query",
    "expectedKwargs": {"table": "users", "limit": 10, "offset": 0},
    "expectedArgs": []
  },
  {
    "id": 103,
    "tier": 8,
    "name": "ext fn with no kwargs (positional only)",
    "code": "result = compute(42)\nresult",
    "expected": 84,
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": ["compute"],
    "resumeValues": [84],
    "resumeErrors": null,
    "nativeOnly": false,
    "expectedFnName": "compute",
    "expectedKwargs": null,
    "expectedArgs": [42]
  },
  {
    "id": 104,
    "tier": 8,
    "name": "call_id is present on pending",
    "code": "result = fetch(\"url\")\nresult",
    "expected": "data",
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": ["fetch"],
    "resumeValues": ["data"],
    "resumeErrors": null,
    "nativeOnly": false,
    "expectedFnName": "fetch"
  },
  {
    "id": 105,
    "tier": 8,
    "name": "sequential calls have distinct call_ids",
    "code": "a = get_val(1)\nb = get_val(2)\na + b",
    "expected": 30,
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": ["get_val"],
    "resumeValues": [10, 20],
    "resumeErrors": null,
    "nativeOnly": false,
    "expectedFnName": "get_val",
    "expectedDistinctCallIds": true
  },
  {
    "id": 106,
    "tier": 8,
    "name": "kwargs with string values",
    "code": "result = greet(name=\"World\", greeting=\"Hello\")\nresult",
    "expected": "Hello, World!",
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": ["greet"],
    "resumeValues": ["Hello, World!"],
    "resumeErrors": null,
    "nativeOnly": false,
    "expectedFnName": "greet",
    "expectedKwargs": {"name": "World", "greeting": "Hello"},
    "expectedArgs": []
  },
  {
    "id": 107,
    "tier": 8,
    "name": "kwargs with boolean value",
    "code": "result = configure(verbose=True)\nresult",
    "expected": "configured",
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": ["configure"],
    "resumeValues": ["configured"],
    "resumeErrors": null,
    "nativeOnly": false,
    "expectedFnName": "configure",
    "expectedKwargs": {"verbose": true},
    "expectedArgs": []
  },
  {
    "id": 108,
    "tier": 8,
    "name": "kwargs with None value",
    "code": "result = process(data=None)\nresult",
    "expected": "processed",
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": ["process"],
    "resumeValues": ["processed"],
    "resumeErrors": null,
    "nativeOnly": false,
    "expectedFnName": "process",
    "expectedKwargs": {"data": null},
    "expectedArgs": []
  },
  {
    "id": 109,
    "tier": 8,
    "name": "methodCall is false for top-level ext fn",
    "code": "result = compute(1, 2)\nresult",
    "expected": 3,
    "expectedContains": null,
    "expectedSorted": false,
    "expectError": false,
    "errorContains": null,
    "externalFunctions": ["compute"],
    "resumeValues": [3],
    "resumeErrors": null,
    "nativeOnly": false,
    "expectedFnName": "compute",
    "expectedMethodCall": false,
    "expectedArgs": [1, 2]
  }
]
